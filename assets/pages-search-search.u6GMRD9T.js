import{B as s,l as a,d as e,C as l,o as t,c as u,a as r,f as n,F as o,h as c,u as i,b as p,I as d,t as h,g as v,D as m}from"./index-CP_65cPg.js";import{s as y}from"./index.DrNgAzrc.js";import{_ as g}from"./plugin-vueexport-helper.BCo6x5W8.js";const b=s("counter",(()=>({SearchHistoryList:a([])}))),f=g(e({__name:"search",setup(s){const e=b(),g=a([]),f=a("");a(1),l(f,(async()=>{const s=await y(f.value);g.value=s.data.result.songs}));const x=()=>{f.value.length&&(e.SearchHistoryList.includes(f.value)||e.SearchHistoryList.push(f.value))};return(s,a)=>{const l=d,y=m;return t(),u("div",{class:"whole"},[r("div",{class:"input"},[n(l,{type:"text",modelValue:f.value,"onUpdate:modelValue":a[0]||(a[0]=s=>f.value=s),placeholder:"搜索歌曲",class:"search-input"},null,8,["modelValue"]),n(l,{type:"button",value:"搜索",onClick:x,class:"search-btn"})]),r("div",{class:"history"},[r("p",null,"搜索历史"),r("ul",null,[(t(!0),u(o,null,c(i(e).SearchHistoryList,((s,a)=>(t(),u("li",{key:a},h(s),1)))),128))])]),f.value.length?(t(),u("div",{key:0,class:"search-result"},[r("ul",null,[(t(!0),u(o,null,c(g.value,((s,a)=>(t(),u("li",{key:a},[n(y,{type:"search",size:"15"}),v(" "+h(s.name),1)])))),128))])])):p("",!0)])}}}),[["__scopeId","data-v-b16abe98"]]);export{f as default};
