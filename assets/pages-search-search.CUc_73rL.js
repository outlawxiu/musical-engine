import{d as s,r as a,a as e,A as l,o as t,c as u,b as o,g as r,F as c,j as n,u as i,e as d,I as h,t as p,h as v,B as y}from"./index-BuFgFvq9.js";import{s as m}from"./index.Cz2X8r-q.js";import{_}from"./_plugin-vue_export-helper.BCo6x5W8.js";const g=s("counter",(()=>({SearchHistoryList:a([])}))),b=_(e({__name:"search",setup(s){const e=g();console.log(e.SearchHistoryList);const _=a([]),b=a("");a(1),l(b,(async()=>{const s=await m(b.value);_.value=s.data.result.songs}));const x=()=>{b.value.length&&(e.SearchHistoryList.includes(b.value)||e.SearchHistoryList.push(b.value))};return(s,a)=>{const l=h,m=y;return t(),u("div",{class:"whole"},[o("div",{class:"input"},[r(l,{type:"text",modelValue:b.value,"onUpdate:modelValue":a[0]||(a[0]=s=>b.value=s),placeholder:"搜索歌曲",class:"search-input"},null,8,["modelValue"]),r(l,{type:"button",value:"搜索",onClick:x,class:"search-btn"})]),o("div",{class:"history"},[o("p",null,"搜索历史"),o("ul",null,[(t(!0),u(c,null,n(i(e).SearchHistoryList,((s,a)=>(t(),u("li",{key:a},p(s),1)))),128))])]),b.value.length?(t(),u("div",{key:0,class:"search-result"},[o("ul",null,[(t(!0),u(c,null,n(_.value,((s,a)=>(t(),u("li",{key:a},[r(m,{type:"search",size:"15"}),v(" "+p(s.name),1)])))),128))])])):d("",!0)])}}}),[["__scopeId","data-v-98bd360c"]]);export{b as default};
