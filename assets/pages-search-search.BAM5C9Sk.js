import{B as s,r as a,d as e,C as l,o as t,j as u,h as r,a as n,F as o,k as i,D as c,q as p,I as d,t as h,b as v,E as y}from"./index-D-xWtDk2.js";import{s as m}from"./index.De3wf8Wh.js";import{_ as b}from"./plugin-vueexport-helper.BCo6x5W8.js";const f=s("counter",(()=>({SearchHistoryList:a([])}))),g=b(e({__name:"search",setup(s){const e=f(),b=a([]),g=a("");a(1),l(g,(async()=>{const s=await m(g.value);b.value=s.data.result.songs}));const k=()=>{g.value.length&&(e.SearchHistoryList.includes(g.value)||e.SearchHistoryList.push(g.value))};return(s,a)=>{const l=d,m=y;return t(),u("div",{class:"whole"},[r("div",{class:"input"},[n(l,{type:"text",modelValue:g.value,"onUpdate:modelValue":a[0]||(a[0]=s=>g.value=s),placeholder:"搜索歌曲",class:"search-input"},null,8,["modelValue"]),n(l,{type:"button",value:"搜索",onClick:k,class:"search-btn"})]),r("div",{class:"history"},[r("p",null,"搜索历史"),r("ul",null,[(t(!0),u(o,null,i(c(e).SearchHistoryList,((s,a)=>(t(),u("li",{key:a},h(s),1)))),128))])]),g.value.length?(t(),u("div",{key:0,class:"search-result"},[r("ul",null,[(t(!0),u(o,null,i(b.value,((s,a)=>(t(),u("li",{key:a},[n(m,{type:"search",size:"15"}),v(" "+h(s.name),1)])))),128))])])):p("",!0)])}}}),[["__scopeId","data-v-b16abe98"]]);export{g as default};
