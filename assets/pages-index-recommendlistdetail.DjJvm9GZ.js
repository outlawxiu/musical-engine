import{B as a,r as l,R as e,C as s,d as t,o as n,c as u,w as r,f as i,a as o,b as c,t as d,j as p,k as m,F as v,e as f,i as _,A as g}from"./index-D-xWtDk2.js";import{p as y,n as h}from"./index.De3wf8Wh.js";import{o as k}from"./uni-app.es.BgqiqMnG.js";import{_ as x}from"./plugin-vueexport-helper.BCo6x5W8.js";const j=a("player",(()=>{const a=l(!1);l(488388942);const t=e();l([{name:"顺序播放",value:"sequence"},{name:"单曲循环",value:"single"},{name:"随机播放",value:"random"}]);const n=l([{id:488388942,poster:"https://qiniu-web-assets.dcloud.net.cn/unidoc/zh/music-a.png",name:"致爱丽丝 - 稻香",author:"周杰伦",url:"https://web-ext-storage.dcloud.net.cn/uni-app/ForElise.mp3"}]),u=l(""),r=l(0),i=l(!1),o=l(!1),c=l(!1);l("random");const d=l(!1);l(1),t.src=n.value[0].url;return s(n,(()=>{r.value=0,u.value=n.value[0].url})),s(r,(()=>{u.value=n.value[r.value].url})),s(u,(()=>t.src=u.value),{immediate:!0}),{playList:n,currentMusic:u,currentIndex:r,show:i,isPlaying:o,showList:c,isDetail:d,playerStatus:a,changeplayerStatus:()=>{a.value?t.play():t.pause()}}})),w=x(t({__name:"recommendlistdetail",setup(a){const s=j(),t=l({});k((a=>{y(null==a?void 0:a.id).then((a=>{t.value=a.data.playlist}))})),e();return(a,l)=>{const e=f,y=_,k=i,x=g;return n(),u(k,null,{default:r((()=>[o(k,{class:"nav"},{default:r((()=>[o(e,{src:t.value.coverImgUrl,alt:"",class:"coverImg"},null,8,["src"]),o(k,{class:"desc"},{default:r((()=>[o(y,null,{default:r((()=>[c(d(t.value.name),1)])),_:1}),o(k,{class:"creator"},{default:r((()=>{var a,l;return[o(e,{src:null==(l=null==(a=t.value)?void 0:a.creator)?void 0:l.avatarUrl,alt:"",class:"avatar"},null,8,["src"]),o(y,{class:"nickname"},{default:r((()=>{var a,l;return[c(d(null==(l=null==(a=t.value)?void 0:a.creator)?void 0:l.nickname),1)]})),_:1})]})),_:1}),o(k,{class:"btn"},{default:r((()=>[(n(!0),p(v,null,m(t.value.tags,((a,l)=>(n(),u(x,{size:"mini",key:l},{default:r((()=>[c(d(a),1)])),_:2},1024)))),128))])),_:1})])),_:1})])),_:1}),o(y,{class:"description"},{default:r((()=>[c(d(t.value.description),1)])),_:1}),(n(!0),p(v,null,m(t.value.tracks,((a,l)=>(n(),u(k,{class:"songs",key:l},{default:r((()=>[o(y,{class:"id"},{default:r((()=>[c(d(l+1),1)])),_:2},1024),o(k,{class:"song",style:{display:"flex","flex-direction":"column"},onClick:l=>(a=>{console.log(a.al.id,"item.id"),h(a.id).then((l=>{console.log(l.data.data[0].url,"playMusicApi"),s.playList.unshift({poster:a.al.picUrl,id:a.al.id,name:a.name,url:l.data.data[0].url,poster:a.al.picUrl}),console.log(s.playList,"playerStore.playList")})),console.log(a,"item")})(a)},{default:r((()=>[o(y,{class:"name"},{default:r((()=>[c(d(a.name),1)])),_:2},1024),o(y,{class:"artists"},{default:r((()=>[c(d(a.ar.map((a=>a.name)).join("、")),1)])),_:2},1024)])),_:2},1032,["onClick"])])),_:2},1024)))),128))])),_:1})}}}),[["__scopeId","data-v-3ea645ec"]]);export{w as default};
